{"version":3,"file":"index.cjs.min.js","sources":["../../index.cjs.min.js","../../../test/helpers/config.js","../../../test/helpers/store.js","../../../test/helpers/index.js"],"sourcesContent":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var isWhat=require(\"is-what\"),defaultConf={setter:\"set\",getter:\"get\",vuexEasyFirestore:!1,ignorePrivateProps:!0,ignoreProps:[],pattern:\"standard\"};function getKeysFromPath(e){return e?e.match(/\\w+/g):[]}function getDeepRef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=getKeysFromPath(arguments[1]);if(!t.length)return e;for(var r=e;r&&t.length>1;)r=r[t.shift()];var a=t.shift();return r&&r.hasOwnProperty(a)?r[a]:void 0}function getDeepValue(e,t){return getDeepRef(e,t)}function setDeepValue(e,t,r){var a=getKeysFromPath(t),n=a.pop(),s=getDeepRef(e,a.join());return s&&s.hasOwnProperty(n)&&(s[n]=r),e}function popDeepValue(e,t){var r=getDeepRef(e,t);if(isWhat.isArray(r))return r.pop()}function pushDeepValue(e,t,r){var a=getDeepRef(e,t);if(isWhat.isArray(a))return a.push(r)}function spliceDeepValue(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments[4],s=getDeepRef(e,t);if(isWhat.isArray(s))return s.splice(r,a,n)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};function makeMutationsForAllProps(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=Object.assign({},defaultConf,r),isWhat.isObject(e)?Object.keys(e).reduce(function(a,n){var s=t?t+\".\"+n:n,o=\"simple\"===r.pattern?s:\"SET_\"+s.toUpperCase();if(r.ignorePrivateProps&&\"_\"===n[0])return a;if(r.ignoreProps.map(function(e){return e.replace(/(.*?)\\/([^\\/]*?)$/,\"$2\")}).includes(s))return a;a[o]=function(e,t){return setDeepValue(e,s,t)};var i=e[n];if(isWhat.isObject(i)){var u=makeMutationsForAllProps(i,s,r);a=_extends({},a,u)}isWhat.isArray(i)&&(a[\"simple\"===r.pattern?s+\".pop\":\"POP_\"+s.toUpperCase()]=function(e){return popDeepValue(e,s)},a[\"simple\"===r.pattern?s+\".push\":\"PUSH_\"+s.toUpperCase()]=function(e,t){return pushDeepValue(e,s,t)},a[\"simple\"===r.pattern?s+\".splice\":\"SPLICE_\"+s.toUpperCase()]=function(e,t){return spliceDeepValue.apply(void 0,[e,s].concat(toConsumableArray(t)))});return a},{}):{}}function defaultMutations(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return makeMutationsForAllProps(e,null,t=Object.assign({},defaultConf,t))}function defaultGetter(e,t){return t.getters.hasOwnProperty(e)?t.getters[e]:getDeepValue(t.state,e)}function defaultSetter(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a=Object.assign({},defaultConf,a);var n=e.split(\"/\"),s=n.pop(),o=n.length?n.join(\"/\")+\"/\":\"\",i=o+(\"simple\"===a.pattern?s:\"set\"+s[0].toUpperCase()+s.substring(1));if(r._actions[i])return r.dispatch(i,t);if(a.vuexEasyFirestore){var u=r._modulesNamespaceMap[e+\"/\"],p=u?e+\"/set\":o+\"set\",c=u?t:{};if(u||(c[s]=t),r._actions[p])return r.dispatch(p,c)}var l=\"simple\"===a.pattern?s:\"SET_\"+s.toUpperCase(),f=o+l;if(r._mutations[f])return r.commit(f,t);console.error(\"There is no mutation set for '\"+f+\"'.\\n    Please add a mutation like so in the correct module:\\n\\n    mutations: {\\n      '\"+l+\"': ({state}, payload) => {\\n        state.\"+s+\" = payload\\n      }\\n    }\\n\\n    You can also add mutations automatically with vuex-easy-access.\\n    See the documentation here:\\n      https://github.com/mesqueeb/VuexEasyAccess#2-automatically-generate-mutations-for-each-state-property\")}function createSetterModule(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",r=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a=Object.assign({},defaultConf,a),{actions:function e(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";return Object.keys(n).reduce(function(o,i){var u=s?s+\".\"+i:i,p=t+u;if(a.ignorePrivateProps&&\"_\"===i[0])return o;if(a.ignoreProps.includes(p))return o;if(r._modulesNamespaceMap[p+\"/\"])return o;o[u]=function(e,t){return defaultSetter(p,t,r,a)};var c=n[i];if(isWhat.isObject(c)&&Object.keys(c).length){var l=e(c,u);Object.assign(o,l)}return o},{})}(e),namespaced:!0}}function generateSetterModules(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e._modulesNamespaceMap;Object.keys(a).forEach(function(n){var s=a[n],o=getKeysFromPath(n+t),i=createSetterModule(s.state,n,e,r);e.registerModule(o,i)}),r=Object.assign({},defaultConf,r);var n=t,s=createSetterModule(e.state,\"\",e,r);e.registerModule(n,s)}function createEasyAccess(e){var t=Object.assign({},defaultConf,e);return function(e){generateSetterModules(e,t.setter,t),e[t.setter]=function(r,a){return defaultSetter(r,a,e,t)},e[t.getter]=function(t){return defaultGetter(t,e)}}}exports.default=createEasyAccess,exports.createEasyAccess=createEasyAccess,exports.defaultMutations=defaultMutations,exports.defaultSetter=defaultSetter,exports.defaultGetter=defaultGetter,exports.getDeepRef=getDeepRef,exports.getKeysFromPath=getKeysFromPath;\n//# sourceMappingURL=index.cjs.min.js.map\n","\nexport default {\n  pattern: 'simple',\n  ignoreProps: ['user/importedData', 'user/user.secretProp'],\n}\n","\nimport { defaultMutations } from '../../dist/index.cjs.min'\nimport config from './config'\n\n// Store root state\nfunction initialState () {\n  return {\n    pokemonBox: {\n      waterPokemon: ['squirtle'],\n      items: [],\n      _secrets: []\n    }\n  }\n}\n\n// MODULE: gymData\nconst gymDataState = {\n  defeated: {\n    palletTown: false,\n  }\n}\nconst gymData = {\n  namespaced: true,\n  state: gymDataState,\n  mutations: defaultMutations(gymDataState, config)\n}\n\n// MODULE: locationJournal\nconst locationJournalState = {\n  visitedPlaces: {\n    palletTown: true,\n    gym: false\n  }\n}\nconst locationJournal = {\n  namespaced: true,\n  state: locationJournalState,\n  mutations: defaultMutations(locationJournalState, config),\n  modules: { gymData }\n}\n\n// MODULE: user\nconst userState = { user: {secretProp: null}, importedData: [] }\nconst user = {\n  namespaced: true,\n  state: userState,\n  mutations: defaultMutations(userState, config)\n}\n\n// export store\nexport default {\n  modules: { locationJournal, user },\n  state: initialState(),\n  mutations: defaultMutations(initialState(), config),\n  actions: {},\n  getters: {}\n}\n","import createEasyAccess from '../../dist/index.cjs.min'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport storeObj from './store'\nimport config from './config'\n// set plugin\nconst easyAccess = createEasyAccess(config)\nstoreObj.plugins = [easyAccess]\n// create store\nVue.use(Vuex)\nconst store = new Vuex.Store(storeObj)\n// console.log('store â†’ ', store)\nexport default store\n"],"names":["Object","defineProperty","exports","value","isWhat","setter","getter","vuexEasyFirestore","ignorePrivateProps","ignoreProps","pattern","getKeysFromPath","e","match","getDeepRef","arguments","length","t","r","shift","a","hasOwnProperty","_extends","assign","prototype","call","toConsumableArray","Array","isArray","from","makeMutationsForAllProps","defaultConf","isObject","keys","reduce","n","s","o","toUpperCase","map","replace","includes","pop","join","setDeepValue","i","u","popDeepValue","push","pushDeepValue","splice","apply","concat","defaultGetter","getters","getDeepValue","state","defaultSetter","split","substring","_actions","dispatch","_modulesNamespaceMap","p","c","l","f","_mutations","commit","console","error","createSetterModule","actions","namespaced","createEasyAccess","forEach","registerModule","initialState","gymDataState","gymData","defaultMutations","config","locationJournalState","locationJournal","userState","user","secretProp","importedData","easyAccess","storeObj","plugins","Vue","use","Vuex","store","Store"],"mappings":"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"}